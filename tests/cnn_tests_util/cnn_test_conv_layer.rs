use itertools::Itertools;
use tensor_lib::Matrix;

pub fn get_conv_layer() -> Vec<Vec<Vec<Matrix>>> {
  let kernels: Vec<Vec<f32>> = vec![
    vec![
      0.5488135039273248,
      0.7151893663724195,
      0.6027633760716439,
      0.5448831829968969,
      0.4236547993389047,
      0.6458941130666561,
      0.4375872112626925,
      0.8917730007820798,
      0.9636627605010293,
    ],
    vec![
      0.417022004702574,
      0.7203244934421581,
      0.00011437481734488664,
      0.30233257263183977,
      0.14675589081711304,
      0.0923385947687978,
      0.1862602113776709,
      0.34556072704304774,
      0.39676747423066994,
    ],
    vec![
      0.43599490214200376,
      0.025926231827891333,
      0.5496624778787091,
      0.4353223926182769,
      0.42036780208748903,
      0.3303348210038741,
      0.2046486340378425,
      0.6192709663506637,
      0.29965467367452314,
    ],
    vec![
      0.5507979025745755,
      0.7081478226181048,
      0.2909047389129443,
      0.510827605197663,
      0.8929469543476547,
      0.8962930889334381,
      0.12558531046383625,
      0.20724287813818676,
      0.05146720330082988,
    ],
    vec![
      0.9670298390136767,
      0.5472322491757223,
      0.9726843599648843,
      0.7148159936743647,
      0.6977288245972708,
      0.21608949558037638,
      0.9762744547762418,
      0.006230255204589863,
      0.25298236238344396,
    ],
    vec![
      0.22199317108973948,
      0.8707323061773764,
      0.20671915533942642,
      0.9186109079379216,
      0.48841118879482914,
      0.6117438629026457,
      0.7659078564803156,
      0.5184179878729432,
      0.29680050157622195,
    ],
    vec![
      0.8928601514360016,
      0.3319798053011772,
      0.8212291230578318,
      0.0416966257252499,
      0.10765667993596795,
      0.5950520642062402,
      0.5298173621928216,
      0.4188074285566543,
      0.33540784927332923,
    ],
    vec![
      0.07630828937395717,
      0.7799187922401146,
      0.4384092314408935,
      0.7234651778309412,
      0.9779895119966027,
      0.5384958704104337,
      0.5011204636599379,
      0.07205113335976154,
      0.26843898010187117,
    ],
  ];

  return vec![(0..8)
    .map(|filter_index| {
      let mut filter_kernels = Vec::new();
      filter_kernels.push(Matrix::new_1d(&kernels[filter_index], 3, 3));
      return filter_kernels;
    })
    .collect_vec()];
}
